<!DOCTYPE html>
<html>
    <head>
        <meta charset=UTF-8 />
        <style>
            html, body {
                background-color: #000;
                margin: 0;
                padding: 0;
                height: 100%;
                overflow: hidden !important;
            }
        </style>
        <title>CS410 Intro</title>
    </head>
    <body>
        <script src="three.min.js"></script>
        <script src="three.js-master/examples/js/controls/TrackballControls.js"></script>
        <script>

        var scene, camera, renderer, rain, starGeometry;
        var fov, ratio, zNear, zFar;
        fov = 60;
        ratio = window.innerWidth / window.innerHeight;
        zNear = 1;
        zFar = 1000;

        window.onload = function() {

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(fov, ratio, zNear, zFar);
            camera.position.set(200, 200, 1000);

            ambient = new THREE.AmbientLight(0x555555);
            scene.add(ambient);

            directionalLight = new THREE.DirectionalLight(0xffeedd);
            directionalLight.position.set(0,0,1);
            scene.add(directionalLight);

            renderer = new THREE.WebGLRenderer();
            scene.fog = new THREE.FogExp2(0x11111f, 0.002);
            renderer.setClearColor(scene.fog.color);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            starGeometry = new THREE.Geometry();
            for (var i = 0;i < 20000; i++) {
                star = new THREE.Vector3(
                Math.random() * 400 -200,
                Math.random() * 500 - 250,
                Math.random() * 400 - 200
                );
                star.velocity = {};
                star.velocity = 0;
                starGeometry.vertices.push(star);
            }

            starMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.1,
                transparent: true
            });

            stars = new THREE.Points(starGeometry, starMaterial);

            scene.add(stars);

            controls = new THREE.TrackballControls(camera, renderer.domElement);
            controls.maxDistance = 100;
            controls.minDistance = 1;
            controls.noPan = true;


            animate();
        }

        function animate() {
            starGeometry.verticesNeedUpdate = true;
            stars.rotation.y +=0.002;
            controls.update();
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
            }
        </script>
    </body>
</html>